<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="/Intro">Dashboard</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/dashboard">Raise Ticket</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/users/logout">Logout</a>
      </li>
    </ul>
  </div>
</nav>

<div class="input-group rounded">
  <input type="search"  id="myInput" onkeyup="myFunction()" class="form-control rounded" placeholder="Search for names.." aria-label="Search" aria-describedby="search-addon" title="Type in a name" />
  <span class="input-group-text border-0" id="search-addon">
    <i class="fas fa-search"></i>
  </span>
</div>

<!-- <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name"> -->
<br>

<table class="table table-striped table-primary" id="myTable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Ticket Priority</th>
            <th>Ticket Type</th>
            <th>Comment</th>
            <th>Ticket Status</th>
            <th>Date</th>
            </tr>
        </thead>
        <tbody>
          <%if (issues.length >0){ %>
          <% issues.forEach(function(row){ %>
          <tr>
            <td><%= row.user %></td>
            <td><%= row.ticket_prior %></td>
            <td><%= row.ticket_type %></td>
            <td><%= row.comment %></td>
            <td><%= row.ticket_status %></td>
            <td><%= row.date %></td>
          </tr>
          <% })}else{ %>
            <tr>
                <td colspan="6">No Record Found</td>

              </tr>
            <% } %>
        </tbody>
      </table>


      <script>
      function myFunction() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
      </script>


<!-- Display
  <ul class="issues">
  <% for(var i=0; i<issues.length; i++) {%>
    <li class="issues">
      <span><%= " User Name: " +issues[i].user+"."%></span>
      <span><%= " Ticket Priority: " +issues[i].ticket_prior+"."%></span>
    </li>
  <% } %>
</ul> -->
